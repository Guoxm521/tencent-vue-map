!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueBaiduMap=e():t.VueBaiduMap=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=13)}([function(t,e){t.exports=function(t,e,n,o){var i,a=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(i=t,a=t.default);var s="function"==typeof a?a.options:a;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),o){var c=s.computed||(s.computed={});Object.keys(o).forEach(function(t){var e=o[t];c[t]=function(){return e}})}return{esModule:i,exports:a,options:s}}},function(t,e,n){var o,i,a;!function(r,s){i=[e,n(11)],o=s,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkFeatures=t.checkBaseMapType=t.checkControlPosition=t.checkBounds=t.getPosition=t.checkType=t.isPoint=void 0;var n=t.isPoint=function(t){return t.lng&&t.lat};t.checkType=function(t){return Object.prototype.toString.call(t).slice(8,-1)},t.getPosition=function(t,o){return n(o)?(0,e.createPoint)(t,o):o},t.checkBounds=function(t){return!!(t.sw&&t.ne&&t.sw.lat&&t.sw.lng&&t.ne.lat&&t.ne.lng)},t.checkControlPosition=function(t){return-1!==["TOP_LEFT","TOP_CENTER","TOP_RIGHT","CENTER_LEFT","CENTER","CENTER_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"].indexOf(t)},t.checkBaseMapType=function(t){return-1!==["vector","satellite","traffic"].indexOf(t)},t.checkFeatures=function(t,e){return Object.prototype.toString.call(val),!0}})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(0)(n(6),null,null,null);t.exports=o.exports},function(t,e,n){var o=n(0)(n(7),n(14),null,null);t.exports=o.exports},function(t,e,n){var o=n(0)(n(8),n(15),null,null);t.exports=o.exports},function(t,e,n){var o,i,a;!function(r,s){i=[t,e,n(12),n(1)],o=s,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-scale",render:function(){},mixins:[(0,i.default)("control")],props:{position:{type:String},className:{type:String}},watch:{position:function(){this.reload()},className:function(t){this.reload()}},methods:{load:function(){var t=this.TMap,e=this.map;this.anchor,this.offset;this.originInstance=t.constants.DEFAULT_CONTROL_ID.SCALE;var n=e.getControl(this.originInstance);e.addControl(n),(0,o.checkControlPosition)(this.position)&&n.setPosition(t.constants.CONTROL_POSITION[this.position]),this.className&&n.setClassName(this.className)}}},t.exports=e.default})},function(t,e,n){(function(o){var i,a,r;!function(o,s){a=[t,e,n(9),n(1)],i=s,void 0!==(r="function"==typeof i?i.apply(e,a):i)&&(t.exports=r)}(0,function(t,e,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"tencent-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},mapClick:{type:Boolean,default:!0},dragging:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},rotation:{type:Number},pitch:{type:Number},scale:{type:Number},offset:{type:Object},boundary:{type:Object},pitchable:{type:Boolean},rotatable:{type:Boolean}},watch:{center:function(t,e){var n=this.map,o=this.zoom;"String"===(0,i.checkType)(t)&&t!==e&&n.centerAndZoom(t,o)},"center.lng":function(t,e){var n=this.TMap,o=this.map,i=this.zoom,a=this.center;t!==e&&t>=-180&&t<=180&&o.centerAndZoom(new n.Point(t,a.lat),i)},"center.lat":function(t,e){var n=this.TMap,o=this.map,i=this.zoom,a=this.center;t!==e&&t>=-74&&t<=74&&o.centerAndZoom(new n.Point(a.lng,t),i)},zoom:function(t,e){var n=this.map;t!==e&&t>=3&&t<=19&&n.setZoom(t)},minZoom:function(t){this.map.setMinZoom(t)},maxZoom:function(t){this.map.setMaxZoom(t)},mapClick:function(){this.reset()},dragging:function(t){this.map.setDraggable(Boolean(t))},scrollable:function(t){var e=this.map;t?e.setScrollable(!0):e.setScrollable(!1)},doubleClickZoom:function(t){var e=this.map;t?e.setDoubleClickZoom(!0):e.setDoubleClickZoom(!1)},rotation:function(t){var e=this.map;this.TMap;t&&e.setRotation(t)},pitch:function(t){var e=this.map;this.TMap;t&&e.setPitch(t)},scale:function(t){var e=this.map;this.TMap;t&&e.setScale(t)},offset:function(t,e){var n=(this.TMap,this.map);t!==e&&n.setOffset(t)},boundary:function(t,e){var n=(this.TMap,this.map,this.setLatLngBounds);t!==e&&n(t)},pitchable:function(t){var e=this.map;this.TMap;t?e.setPitchable(!0):e.setPitchable(!1)},rotatable:function(t){var e=this.map;this.TMap;t?e.setRotatable(!0):e.setPitchable(!1)}},methods:{setMapOptions:function(){var t=this.map,e=(this.TMap,this.minZoom),n=this.maxZoom,o=this.dragging,i=this.scrollable,a=this.doubleClickZoom,r=this.rotation,s=this.pitch,c=this.scale,u=this.offset,l=this.boundary,p=this.setLatLngBounds,f=this.pitchable,d=this.rotatable;e&&t.setMinZoom(e),n&&t.setMaxZoom(n),o?t.setDraggable(!0):t.setDraggable(!1),i?t.setScrollable(!0):t.setScrollable(!1),a?t.setDoubleClickZoom(!0):t.setDoubleClickZoom(!1),r&&t.setRotation(r),s&&t.setPitch(s),c&&t.setScale(c),u&&t.setOffset(u),l&&p(l),f&&t.setPitchable(!0),d&&t.setPitchable(!0)},init:function(t){if(!this.map){var e=this.$refs.view,n=!0,o=!1,i=void 0;try{for(var r,s=(this.$slots.default||[])[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var c=r.value;c.componentOptions&&"tencent-view"===c.componentOptions.tag&&(this.hasBmView=!0,e=c.elm)}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}var u=new t.Map(e,{enableMapClick:this.mapClick,showControl:!1});this.map=u;var l=this.setMapOptions;this.zoom,this.getCenterPoint;l(),a.default.call(this,u),u.setCenter(this.getCenterPoint()),this.$emit("ready",{TMap:t,map:u})}},getCenterPoint:function(){var t=this.center,e=this.map;switch((0,i.checkType)(t)){case"String":return t;case"Object":return e.setCenter(t.lng,t.lat);default:return e.getCenter()}},initMap:function(t){this.TMap=t,this.init(t)},getMapScript:function(){if(o.TMap)return o.TMap._preloader?o.TMap._preloader:Promise.resolve(o.TMap);var t=this.ak||this._TMap().ak;return o.TMap={},o.TMap._preloader=new Promise(function(e,n){o._initBaiduMap=function(){e(o.TMap),o.document.body.removeChild(i),o.TMap._preloader=null,o._initBaiduMap=null};var i=document.createElement("script");o.document.body.appendChild(i),i.src="https://map.qq.com/api/gljs?v=1.exp&key="+t+"&callback=_initBaiduMap"}),o.TMap._preloader},reset:function(){var t=this.getMapScript,e=this.initMap;t().then(e).catch(function(t){console.log(t)})},setLatLngBounds:function(){var t=this.map,e=this.TMap,n=this.boundary;if((0,i.checkBounds)(n)){var o=new e.LatLng(n.sw.lat,n.sw.lng),a=new e.LatLng(n.ne.lat,n.ne.lng),r=new e.LatLngBounds(o,a);t.setBoundary(r)}}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}},t.exports=e.default})}).call(e,n(2))},function(t,e,n){var o,i,a;!function(n,r){i=[t,e],o=r,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tencent-view"},t.exports=e.default})},function(t,e,n){var o,i,a;!function(r,s){i=[t,e,n(10)],o=s,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this,i=e||o.default[this.$options.name];i&&i.forEach(function(e){var o="on"===e.slice(0,2),i=o?e.slice(2):e,a=n.$listeners[i];a&&t.on(e,a.fns)})};var o=function(t){return t&&t.__esModule?t:{default:t}}(n);t.exports=e.default})},function(t,e,n){var o,i,a;!function(n,r){i=[t,e],o=r,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"tencent-map":["idle","tilesloaded","click","rightclick","dblclick","mousedown","mouseup","mousemove","touchstart","touchmove","touchend","dragstart","drag","dragend","panstart","pan","panend","rotatestart","rotate","rotateend","pitchstart","pitch","pitchend","zoom","resize","center_changed","bounds_changed","scale_changed","control_added","control_removed","animation_playing","animation_looped","animation_ended","animation_stopped"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]},t.exports=e.default})},function(t,e,n){(function(n){var o,i,a;!function(n,r){i=[e],o=r,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t){"use strict";function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.lng,o=e.lat;return new t.Point(n,o)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,o=e.y;return new t.Pixel(n,o)}function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.sw,i=n.ne;return new t.Bounds(e(t,o),e(t,i))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width,o=e.height;return new t.Size(n,o)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,o=e.size,i=e.opts,r=void 0===i?{}:i;return new t.Icon(n,a(t,o),{anchor:r.anchor&&a(t,r.anchor),imageSize:r.imageSize&&a(t,r.imageSize),imageOffset:r.imageOffset&&a(t,r.imageOffset),infoWindowAnchor:r.infoWindowAnchor&&a(t,r.infoWindowAnchor),printImageUrl:r.printImageUrl})}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.content,i=n.opts;return new t.Label(o,{offset:i.offset&&a(t,i.offset),position:i.position&&e(t,i.position),enableMassClear:i.enableMassClear})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.path,i=e.opts;return new t.Symbol(n[o]||o,{anchor:i.anchor&&a(t,i.anchor),fillColor:i.fillColor,fillOpacity:i.fillOpacity,scale:i.scale,rotation:i.rotation,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.symbol,o=e.offset,i=e.repeat,a=e.fixedRotation;return new t.IconSequence(n&&c(t,n),o,i,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.createPoint=e,t.createPixel=o,t.createBounds=i,t.createSize=a,t.createIcon=r,t.createLabel=s,t.createSymbol=c,t.createIconSequence=u})}).call(e,n(2))},function(t,e,n){var o,i,a;!function(n,r){i=[t,e],o=r,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=this.unload,e=this.renderByParent,n=this.$parent;e&&n.reload(),t()}Object.defineProperty(e,"__esModule",{value:!0});var i={control:{unload:"removeControl"}},a=function t(e){return e.abstract||e.$el===e.$children[0].$el?t(e.$parent):e},r=function t(e){n(this,t),this.methods={ready:function(){var t=a(this.$parent),e=this.TMap=t.TMap,n=this.map=t.map;this.load(),this.$emit("ready",{TMap:e,map:n})},transmitEvent:function(t){this.$emit(t.type.replace(/^on/,""),t)},reload:function(){var t=this;this&&this.TMap&&this.$nextTick(function(){t.unload(),t.$nextTick(t.load)})},unload:function(){var t=this.map,n=this.originInstance;try{switch(e.type){case"search":return n.clearResults();case"autoComplete":case"lushu":return n.dispose();case"markerClusterer":return n.clearMarkers();case"control":return t[i[e.type].unload](n)}}catch(t){throw console.log(t),new Error(t)}}},this.computed={renderByParent:function(){return this.$parent.preventChildrenRender}},this.mounted=function(){var t=a(this.$parent),e=t.map,n=this.ready;e?n():t.$on("ready",n)},this.destroyed=o,this.beforeDestroy=o};e.default=function(t){return new r({type:t})},t.exports=e.default})},function(t,e,n){var o,i,a;!function(r,s){i=[e,n(4),n(5),n(3)],o=s,void 0!==(a="function"==typeof o?o.apply(e,i):o)&&(t.exports=a)}(0,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.BmScale=t.BmView=t.BaiduMap=void 0;var a=i(e),r=i(n),s=i(o);t.BaiduMap=a.default,t.BmView=r.default,t.BmScale=s.default})},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.hasBmView?t._e():n("div",{ref:"view"}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}}])});